import{m as x,r as S,j as e,C as r,c as E,K as c,d as L,w as M,e as t,U as B,L as g,P as z,B as u,G as F,t as i}from"./index-DTLdg1Qi.js";import{T as U,a as V,b as j,c as o,d as P,e as m}from"./table-Bis0MdCm.js";import{u as D,a as H,b as K}from"./user.api-CQBFoDQ4.js";import{L as R}from"./Loading-BCcof2va.js";import{U as p,a as b}from"./user-x-CAI9ofhc.js";/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],G=x("circle-check-big",$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],X=x("circle-x",O);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],N=x("shield-alert",q),ee=()=>{const{data:a,isLoading:f}=D(void 0),[v]=H(),[w]=K(),[d,n]=S.useState(null),y=async s=>{n(s);try{await v({id:s}).unwrap(),i.success("Agent approved successfully!")}catch(l){i.error(l?.data?.message||"Failed to approve agent")}finally{n(null)}},A=async s=>{n(s);try{await w({id:s}).unwrap(),i.success("Agent suspended successfully!")}catch(l){i.error(l?.data?.message||"Failed to suspend agent")}finally{n(null)}},C=s=>{const h={ACTIVE:{icon:p,className:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20 hover:bg-green-500/20"},INACTIVE:{icon:b,className:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/20 hover:bg-yellow-500/20"},BLOCKED:{icon:N,className:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20 hover:bg-red-500/20"}}[s]||{icon:g,className:"bg-muted"},I=h.icon;return e.jsxs(F,{className:`${h.className} font-medium flex items-center gap-1 w-fit`,children:[e.jsx(I,{className:"h-3 w-3"}),s]})};if(f)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(R,{})});if(!a?.data||a.data.length===0)return e.jsx("div",{className:"p-6 min-h-screen bg-background",children:e.jsxs(r,{className:"max-w-2xl mx-auto border-border",children:[e.jsx(E,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:e.jsx(c,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx(L,{className:"text-2xl text-foreground",children:"Manage Agents"}),e.jsx(M,{children:"No agents found in the system"})]})]})}),e.jsx(t,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(c,{className:"h-16 w-16 text-muted-foreground/30 mb-4"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"No agents available to display"})]})})]})});const k=a.data.filter(s=>s.isActive==="ACTIVE").length,T=a.data.filter(s=>s.isActive==="INACTIVE").length,_=a.data.filter(s=>s.isActive==="BLOCKED").length;return e.jsxs("div",{className:"p-6 min-h-screen bg-background space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-500",children:e.jsx(c,{className:"h-6 w-6 text-white"})}),"Manage Agents"]}),e.jsx("p",{className:"text-muted-foreground",children:"Review and manage agent approvals and status"})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(r,{className:"bg-card border-border hover:shadow-lg transition-all duration-300",children:e.jsx(t,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Agents"}),e.jsx("p",{className:"text-2xl font-bold text-foreground mt-1",children:a.data.length})]}),e.jsx("div",{className:"p-3 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-500",children:e.jsx(B,{className:"h-5 w-5 text-white"})})]})})}),e.jsx(r,{className:"bg-card border-border hover:shadow-lg transition-all duration-300",children:e.jsx(t,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Agents"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:k})]}),e.jsx("div",{className:"p-3 rounded-lg bg-gradient-to-br from-green-500 to-emerald-500",children:e.jsx(p,{className:"h-5 w-5 text-white"})})]})})}),e.jsx(r,{className:"bg-card border-border hover:shadow-lg transition-all duration-300",children:e.jsx(t,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending Approval"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mt-1",children:T})]}),e.jsx("div",{className:"p-3 rounded-lg bg-gradient-to-br from-yellow-500 to-amber-500",children:e.jsx(b,{className:"h-5 w-5 text-white"})})]})})}),e.jsx(r,{className:"bg-card border-border hover:shadow-lg transition-all duration-300",children:e.jsx(t,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Suspended"}),e.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mt-1",children:_})]}),e.jsx("div",{className:"p-3 rounded-lg bg-gradient-to-br from-red-500 to-rose-500",children:e.jsx(N,{className:"h-5 w-5 text-white"})})]})})})]}),e.jsx(r,{className:"bg-card border-border shadow-lg",children:e.jsx(t,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(U,{children:[e.jsx(V,{children:e.jsxs(j,{className:"border-border hover:bg-transparent",children:[e.jsx(o,{className:"text-foreground font-semibold",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"h-4 w-4"}),"Name"]})}),e.jsx(o,{className:"text-foreground font-semibold",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4"}),"Phone"]})}),e.jsx(o,{className:"text-foreground font-semibold",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{className:"h-4 w-4"}),"Status"]})}),e.jsx(o,{className:"text-right text-foreground font-semibold",children:"Actions"})]})}),e.jsx(P,{children:a.data.map(s=>e.jsxs(j,{className:"border-border hover:bg-accent/50 transition-colors",children:[e.jsx(m,{className:"font-medium text-foreground",children:s?.name||"N/A"}),e.jsx(m,{className:"text-muted-foreground",children:s?.phone||"N/A"}),e.jsx(m,{children:C(s?.isActive)}),e.jsx(m,{className:"text-right",children:e.jsx("div",{className:"flex gap-2 justify-end",children:s?.isActive==="INACTIVE"?e.jsx(u,{onClick:()=>y(s._id),size:"sm",disabled:d===s._id,className:"gap-2 bg-green-600 hover:bg-green-700 dark:bg-green-600 dark:hover:bg-green-700",children:d===s._id?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-3 w-3 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Approving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"h-3 w-3"}),"Approve"]})}):e.jsx(u,{onClick:()=>A(s._id),size:"sm",variant:"destructive",disabled:d===s._id,className:"gap-2",children:d===s._id?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-3 w-3 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Suspending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"h-3 w-3"}),"Suspend"]})})})})]},s?._id))})]})})})})]})};export{ee as default};
