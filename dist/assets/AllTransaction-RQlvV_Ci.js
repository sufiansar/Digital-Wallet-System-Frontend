import{r as t,j as e,I as m,S,q as f,v as y,w as b,x as a,B as p}from"./index-CcoH4oKZ.js";import{T as B,a as D,b as i,c,d as E,e as n}from"./table-93iw7Hw7.js";import{a as L}from"./transaction.api-4j12HDTe.js";function q(){const[d,C]=t.useState(""),[o,N]=t.useState(""),[h,w]=t.useState(""),[l,x]=t.useState(1),[u,T]=t.useState(""),[j,A]=t.useState(""),[P,M]=t.useState({});t.useEffect(()=>{M({search:d,status:o,type:h,minAmount:u,maxAmount:j,page:l,limit:6})},[d,o,h,u,j,l]);const{data:v,isLoading:I}=L(P,{refetchOnMountOrArgChange:!0}),g=v?.data?.transactions||[],r=v?.data?.meta,R=()=>l>1&&x(l-1),k=()=>l<r?.totalPage&&x(l+1);return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Transactions"}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsx(m,{placeholder:"Search by type/status...",value:d,onChange:s=>C(s.target.value),className:"w-64"}),e.jsxs(S,{onValueChange:s=>N(s==="all"?"":s),value:o||"all",children:[e.jsx(f,{className:"w-40",children:e.jsx(y,{placeholder:"Status"})}),e.jsxs(b,{children:[e.jsx(a,{value:"all",children:"All"}),e.jsx(a,{value:"pending",children:"Pending"}),e.jsx(a,{value:"completed",children:"Completed"}),e.jsx(a,{value:"reversed",children:"Reversed"})]})]}),e.jsxs(S,{onValueChange:s=>w(s==="all"?"":s),value:h||"all",children:[e.jsx(f,{className:"w-40",children:e.jsx(y,{placeholder:"Type"})}),e.jsxs(b,{children:[e.jsx(a,{value:"all",children:"All"}),e.jsx(a,{value:"sendmoney",children:"Send Money"}),e.jsx(a,{value:"cash-in",children:"Cash In"}),e.jsx(a,{value:"cash-out",children:"Cash Out"}),e.jsx(a,{value:"withdrawal",children:"Withdrawal"}),e.jsx(a,{value:"deposit",children:"Deposit"}),e.jsx(a,{value:"commission",children:"Commission"})]})]}),e.jsx(m,{type:"number",placeholder:"Min Amount",value:u,onChange:s=>T(s.target.value),className:"w-32"}),e.jsx(m,{type:"number",placeholder:"Max Amount",value:j,onChange:s=>A(s.target.value),className:"w-32"}),e.jsx(p,{onClick:()=>x(1),children:"Apply"})]}),e.jsx("div",{className:"border rounded-xl shadow-sm",children:e.jsxs(B,{children:[e.jsx(D,{children:e.jsxs(i,{children:[e.jsx(c,{children:"Type"}),e.jsx(c,{children:"Status"}),e.jsx(c,{children:"Amount"}),e.jsx(c,{children:"Sender"}),e.jsx(c,{children:"Receiver"}),e.jsx(c,{children:"Date"})]})}),e.jsx(E,{children:I?e.jsx(i,{children:e.jsx(n,{colSpan:6,className:"text-center",children:"Loading..."})}):g.length>0?g.map(s=>e.jsxs(i,{children:[e.jsx(n,{children:s.type}),e.jsx(n,{children:s.status}),e.jsxs(n,{children:["$",s.amount]}),e.jsx(n,{children:s.sender||"-"}),e.jsx(n,{children:s.receiver||"-"}),e.jsx(n,{children:new Date(s.createdAt).toLocaleString()})]},s._id)):e.jsx(i,{children:e.jsx(n,{colSpan:6,className:"text-center",children:"No transactions found"})})})]})}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx(p,{variant:"outline",onClick:R,disabled:l===1,children:"Previous"}),e.jsxs("span",{children:["Page ",r?.page," of ",r?.totalPage]}),e.jsx(p,{variant:"outline",onClick:k,disabled:l===r?.totalPage,children:"Next"})]})]})}export{q as default};
