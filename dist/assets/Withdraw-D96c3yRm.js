import{u as v,a as y,b as C,o as D,j as e,B as r,C as i,c as o,d as l,e as c,F,f as d,g as m,h,i as u,P as B,I as x,l as j,k as p,H as T,t as b,n as M,s as P}from"./index-DTLdg1Qi.js";import{c as W}from"./wallet.api-CgaDlucD.js";import{A as k}from"./arrow-left-CjM_z_62.js";import{D as g}from"./download-qVnTQDIS.js";import{L as A}from"./loader-circle-CyirEv4l.js";const E=D({receiverPhone:P().min(1,{message:"Receiver phone is required."}).regex(/^01[3-9]\d{8}$/,{message:"Enter a valid Bangladeshi phone number."}),amount:M({message:"Amount is required."}).positive("Amount must be greater than 0").min(10,"Minimum withdrawal amount is 10 BDT").max(5e4,"Maximum withdrawal amount is 50,000 BDT")});function q(){const[f,{isLoading:n}]=W(),w=v(),a=y({resolver:C(E),defaultValues:{receiverPhone:"",amount:0}});async function N(s){try{await f({amount:s.amount,receiverPhone:s.receiverPhone}).unwrap(),b.success(`Successfully transferred ${s.amount} BDT to ${s.receiverPhone}`),a.reset()}catch(t){b.error(t?.data?.message||"Transfer failed")}}return e.jsxs("div",{className:"space-y-6 p-6 min-h-screen bg-background",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx(r,{variant:"ghost",size:"icon",onClick:()=>w(-1),className:"rounded-full hover:bg-accent",children:e.jsx(k,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Withdraw Money"}),e.jsx("p",{className:"text-muted-foreground",children:"Transfer funds from your wallet to another account"})]})]}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs(i,{className:"shadow-xl rounded-2xl border-border bg-card",children:[e.jsx(o,{className:"border-b border-border",children:e.jsxs(l,{className:"text-xl font-semibold flex items-center gap-2",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary",children:e.jsx(g,{className:"h-5 w-5"})}),"Withdrawal Details"]})}),e.jsx(c,{className:"pt-6",children:e.jsx(F,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(N),className:"space-y-6",children:[e.jsx(d,{control:a.control,name:"receiverPhone",render:({field:s})=>e.jsxs(m,{children:[e.jsx(h,{children:"Receiver Phone Number"}),e.jsx(u,{children:e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(x,{placeholder:"01712345678",className:"pl-10 bg-background border-input",...s})]})}),e.jsx(j,{children:"Enter the recipient's Bangladeshi mobile number"}),e.jsx(p,{})]})}),e.jsx(d,{control:a.control,name:"amount",render:({field:s})=>e.jsxs(m,{children:[e.jsx(h,{children:"Withdrawal Amount"}),e.jsx(u,{children:e.jsxs("div",{className:"relative",children:[e.jsx(T,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(x,{type:"number",placeholder:"Enter amount in BDT",className:"pl-10 bg-background border-input",...s,onChange:t=>s.onChange(Number(t.target.value))})]})}),e.jsx(j,{children:"Minimum: 10 BDT, Maximum: 50,000 BDT"}),e.jsx(p,{})]})}),e.jsxs("div",{className:"pt-4 space-y-3",children:[e.jsx(r,{type:"submit",className:"w-full flex items-center gap-2",disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"h-4 w-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"h-4 w-4"}),"Withdraw Money"]})}),e.jsx(r,{type:"button",variant:"outline",className:"w-full",onClick:()=>a.reset(),disabled:n,children:"Clear Form"})]})]})})})]}),e.jsxs(i,{className:"mt-6 border-border bg-card",children:[e.jsx(o,{children:e.jsx(l,{className:"text-lg font-semibold",children:"Important Information"})}),e.jsxs(c,{className:"space-y-4 text-sm text-muted-foreground",children:[e.jsx("p",{children:"• Withdrawals are processed within 2–4 hours on business days"}),e.jsx("p",{children:"• Ensure the receiver phone number is correct"}),e.jsx("p",{children:"• Transaction fees may apply"}),e.jsx("p",{children:"• Daily withdrawal limit is 50,000 BDT"}),e.jsxs("div",{className:"pt-4",children:[e.jsx("p",{className:"font-medium text-foreground mb-3",children:"Quick Withdrawal Amounts"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[100,500,1e3,2e3,5e3].map(s=>e.jsxs(r,{type:"button",variant:"outline",size:"sm",onClick:()=>a.setValue("amount",s),children:[s," BDT"]},s))})]})]})]})]})]})}export{q as default};
