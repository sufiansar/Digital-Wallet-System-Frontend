import{r as o,j as e,C as M,S as P,q as D,v as k,w as A,x as t,P as p,y as v,B as x,z as f}from"./index-CcoH4oKZ.js";import{T as E,a as H,b as h,c as i,d as B,e as l}from"./table-93iw7Hw7.js";import{C as g}from"./calendar-D4e9DyRI.js";import{u as L}from"./transaction.api-4j12HDTe.js";import{L as z}from"./Loading-CydpJtcl.js";import{f as d}from"./format-Dp3w_Y3x.js";function O(){const[a,j]=o.useState(1),[m,b]=o.useState(void 0),[n,N]=o.useState(),[r,S]=o.useState(),{data:u,isLoading:T}=L({page:a,limit:5,type:m,startDate:n?d(n,"yyyy-MM-dd"):void 0,endDate:r?d(r,"yyyy-MM-dd"):void 0}),y=u?.data||[],c=u?.meta||{totalPage:1,page:1},w=()=>a>1&&j(a-1),C=()=>a<c.totalPage&&j(a+1);return e.jsxs(M,{className:"p-6 shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Transaction History"}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm block mb-1",children:"Type"}),e.jsxs(P,{onValueChange:s=>b(s==="all"?void 0:s),value:m??"all",children:[e.jsx(D,{className:"w-[180px]",children:e.jsx(k,{placeholder:"All Types"})}),e.jsxs(A,{children:[e.jsx(t,{value:"all",children:"All"}),e.jsx(t,{value:"cash-in",children:"Cash In"}),e.jsx(t,{value:"cash-out",children:"Cash Out"}),e.jsx(t,{value:"sendmoney",children:"Send Money"}),e.jsx(t,{value:"withdrawal",children:"Withdrawal"}),e.jsx(t,{value:"deposit",children:"Deposit"}),e.jsx(t,{value:"commission",children:"Commission"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm block mb-1",children:"Start Date"}),e.jsxs(p,{children:[e.jsx(v,{asChild:!0,children:e.jsx(x,{variant:"outline",className:"w-[180px] justify-start text-left font-normal",children:n?d(n,"dd MMM yyyy"):"Pick a date"})}),e.jsx(f,{className:"w-auto p-0",align:"start",children:e.jsx(g,{mode:"single",selected:n,onSelect:N})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm block mb-1",children:"End Date"}),e.jsxs(p,{children:[e.jsx(v,{asChild:!0,children:e.jsx(x,{variant:"outline",className:"w-[180px] justify-start text-left font-normal",children:r?d(r,"dd MMM yyyy"):"Pick a date"})}),e.jsx(f,{className:"w-auto p-0",align:"start",children:e.jsx(g,{mode:"single",selected:r,onSelect:S})})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(E,{children:[e.jsx(H,{children:e.jsxs(h,{children:[e.jsx(i,{children:"Date"}),e.jsx(i,{children:"Type"}),e.jsx(i,{children:"Amount"}),e.jsx(i,{children:"From"}),e.jsx(i,{children:"To"})]})}),e.jsx(B,{children:T?e.jsx(h,{children:e.jsx(l,{colSpan:5,className:"h-32 text-center",children:e.jsx(z,{})})}):y.length===0?e.jsx(h,{children:e.jsx(l,{colSpan:5,className:"text-center text-gray-500",children:"No transactions found"})}):y.map(s=>e.jsxs(h,{children:[e.jsx(l,{children:d(new Date(s.createdAt),"dd MMM yyyy")}),e.jsx(l,{className:"capitalize",children:s.type}),e.jsxs(l,{children:["à§³ ",s.amount]}),e.jsx(l,{children:s.sender||"N/A"}),e.jsx(l,{children:s.receiver||"N/A"})]},s._id))})]})}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx(x,{variant:"outline",onClick:w,disabled:a===1,children:"Previous"}),e.jsxs("span",{children:["Page ",c.page," of ",c.totalPage]}),e.jsx(x,{variant:"outline",onClick:C,disabled:a===c.totalPage,children:"Next"})]})]})}export{O as default};
