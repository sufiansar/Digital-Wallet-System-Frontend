import{r as h,j as e,W as H,C as i,e as d,c as R,d as F,w as I,x as U,y as V,z as W,A as z,D as l,B as j,E as G,S as $,G as O}from"./index-DTLdg1Qi.js";import{T as Q,a as _,b as p,c as o,d as q,e as n}from"./table-Bis0MdCm.js";import{P as f,a as v,b as w,C}from"./popover-Cwot3jKm.js";import{u as J,C as K,P as X,U as Y,A as Z,a as ee}from"./transaction.api-Cja_q9aH.js";import{L as se}from"./Loading-BCcof2va.js";import{C as T}from"./calendar-C_Pa7vtT.js";import{D as ae}from"./download-qVnTQDIS.js";import{A as te}from"./activity-CjsdNaV6.js";import{f as x}from"./format-Dp3w_Y3x.js";function he(){const[a,u]=h.useState(1),[g,S]=h.useState(),[r,P]=h.useState(),[c,D]=h.useState(),{data:N,isLoading:M}=J({page:a,limit:6,type:g,startDate:r?x(r,"yyyy-MM-dd"):void 0,endDate:c?x(c,"yyyy-MM-dd"):void 0}),m=N?.data||[],t=N?.meta,k=()=>a>1&&u(a-1),A=()=>a<(t?.totalPage||1)&&u(a+1),L=s=>{const b={sendmoney:{icon:$,className:"bg-blue-500/10 text-blue-600 border-blue-500/20"},"cash-in":{icon:ee,className:"bg-green-500/10 text-green-600 border-green-500/20"},"cash-out":{icon:Z,className:"bg-orange-500/10 text-orange-600 border-orange-500/20"},withdrawal:{icon:Y,className:"bg-purple-500/10 text-purple-600 border-purple-500/20"},deposit:{icon:ae,className:"bg-cyan-500/10 text-cyan-600 border-cyan-500/20"},commission:{icon:X,className:"bg-pink-500/10 text-pink-600 border-pink-500/20"}}[s]||{icon:te,className:"bg-muted"},E=b.icon;return e.jsxs(O,{className:`${b.className} flex items-center gap-1 capitalize`,children:[e.jsx(E,{className:"h-3 w-3"}),s.replace("-"," ")]})},B=m.reduce((s,y)=>s+(y.amount||0),0);return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-emerald-500 to-teal-500",children:e.jsx(H,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Transaction History"}),e.jsx("p",{className:"text-muted-foreground",children:"View and track your wallet transactions"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(i,{children:e.jsxs(d,{className:"pt-6",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Transactions"}),e.jsx("p",{className:"text-2xl font-bold",children:m.length})]})}),e.jsx(i,{children:e.jsxs(d,{className:"pt-6",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),e.jsxs("p",{className:"text-2xl font-bold",children:["৳ ",B.toLocaleString()]})]})}),e.jsx(i,{children:e.jsxs(d,{className:"pt-6",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Page"}),e.jsx("p",{className:"text-2xl font-bold",children:t?.page||1})]})})]}),e.jsxs(i,{children:[e.jsxs(R,{children:[e.jsx(F,{children:"Filters"}),e.jsx(I,{children:"Filter your transactions"})]}),e.jsx(d,{children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[e.jsxs("div",{className:"w-40",children:[e.jsx("label",{className:"text-sm mb-1 block",children:"Type"}),e.jsxs(U,{value:g??"all",onValueChange:s=>S(s==="all"?void 0:s),children:[e.jsx(V,{children:e.jsx(W,{})}),e.jsxs(z,{children:[e.jsx(l,{value:"all",children:"All"}),e.jsx(l,{value:"sendmoney",children:"Send Money"}),e.jsx(l,{value:"cash-in",children:"Cash In"}),e.jsx(l,{value:"cash-out",children:"Cash Out"}),e.jsx(l,{value:"withdrawal",children:"Withdrawal"}),e.jsx(l,{value:"deposit",children:"Deposit"}),e.jsx(l,{value:"commission",children:"Commission"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm mb-1 block",children:"Start Date"}),e.jsxs(f,{children:[e.jsx(v,{asChild:!0,children:e.jsxs(j,{variant:"outline",className:"w-[160px] justify-start",children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),r?x(r,"dd MMM yyyy"):"Pick date"]})}),e.jsx(w,{className:"p-0",children:e.jsx(C,{mode:"single",selected:r,onSelect:P})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm mb-1 block",children:"End Date"}),e.jsxs(f,{children:[e.jsx(v,{asChild:!0,children:e.jsxs(j,{variant:"outline",className:"w-[160px] justify-start",children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),c?x(c,"dd MMM yyyy"):"Pick date"]})}),e.jsx(w,{className:"p-0",children:e.jsx(C,{mode:"single",selected:c,onSelect:D})})]})]})]})})]}),e.jsx(i,{children:e.jsx(d,{className:"p-0",children:e.jsxs(Q,{children:[e.jsx(_,{children:e.jsxs(p,{children:[e.jsx(o,{children:"Type"}),e.jsx(o,{children:"Amount"}),e.jsx(o,{children:"From"}),e.jsx(o,{children:"To"}),e.jsx(o,{children:"Date"})]})}),e.jsx(q,{children:M?e.jsx(p,{children:e.jsx(n,{colSpan:5,className:"text-center py-10",children:e.jsx(se,{})})}):m.length?m.map(s=>e.jsxs(p,{children:[e.jsx(n,{children:L(s.type)}),e.jsxs(n,{className:"font-semibold",children:["৳ ",s.amount]}),e.jsx(n,{children:s.sender||"-"}),e.jsx(n,{children:s.receiver||"-"}),e.jsx(n,{children:x(new Date(s.createdAt),"dd MMM yyyy")})]},s._id)):e.jsx(p,{children:e.jsx(n,{colSpan:5,className:"text-center py-10",children:"No transactions found"})})})]})})}),t&&t.totalPage>1&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(j,{variant:"outline",onClick:k,disabled:a===1,children:[e.jsx(K,{className:"h-4 w-4 mr-1"}),"Previous"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",t.page," of ",t.totalPage]}),e.jsxs(j,{variant:"outline",onClick:A,disabled:a===t.totalPage,children:["Next",e.jsx(G,{className:"h-4 w-4 ml-1"})]})]})]})}export{he as default};
