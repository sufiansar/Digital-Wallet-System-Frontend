import{j as a,C as d,i as l,k as o,l as c}from"./index-CcoH4oKZ.js";import{a as j}from"./wallet.api-DyhNnKIr.js";import{L as p}from"./Loading-CydpJtcl.js";import{f as u}from"./format-Dp3w_Y3x.js";import{a6 as f,a7 as g}from"./CategoricalChart-A0HhIXmU.js";import{B as w,C as y,X as b,Y as v,a as n}from"./BarChart-B8ZNoyww.js";import{L as C}from"./Legend-CPaxOZfG.js";function L(){const{data:t,isLoading:m}=j(void 0);if(m)return a.jsx("p",{className:"flex justify-center items-center h-32",children:a.jsx(p,{})});const i=t?.data?.recentTransactions||[],x=t?.data?.balance||0,h=Object.values(i.reduce((s,r)=>{const e=u(new Date(r.createdAt),"dd MMM");switch(s[e]||(s[e]={date:e,deposit:0,withdrawal:0,cashIn:0,cashOut:0,commission:0}),r.type){case"deposit":s[e].deposit+=r.amount;break;case"withdrawal":s[e].withdrawal+=r.amount;break;case"cash-in":s[e].cashIn+=r.amount;break;case"cash-out":s[e].cashOut+=r.amount;break;case"commission":s[e].commission+=r.amount;break}return s},{}));return a.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[a.jsxs(d,{className:"shadow-lg rounded-2xl col-span-1",children:[a.jsx(l,{children:a.jsx(o,{children:"Wallet Balance"})}),a.jsx(c,{children:a.jsxs("p",{className:"text-3xl font-bold text-primary",children:["৳ ",x]})})]}),a.jsxs(d,{className:"shadow-lg rounded-2xl col-span-1 md:col-span-2 lg:col-span-3",children:[a.jsx(l,{children:a.jsx(o,{children:"Transaction Breakdown"})}),a.jsx(c,{children:h.length?a.jsx(f,{width:"100%",height:350,children:a.jsxs(w,{data:h,children:[a.jsx(y,{strokeDasharray:"3 3"}),a.jsx(b,{dataKey:"date"}),a.jsx(v,{}),a.jsx(g,{}),a.jsx(C,{}),a.jsx(n,{dataKey:"deposit",fill:"#3b82f6",name:"Deposit"}),a.jsx(n,{dataKey:"withdrawal",fill:"#f97316",name:"Withdrawal"}),a.jsx(n,{dataKey:"cashIn",fill:"#16a34a",name:"Cash In"}),a.jsx(n,{dataKey:"cashOut",fill:"#dc2626",name:"Cash Out"}),a.jsx(n,{dataKey:"commission",fill:"#eab308",name:"Commission"})]})}):a.jsx("p",{className:"text-gray-500",children:"No transaction data for chart."})})]}),a.jsxs(d,{className:"shadow-lg rounded-2xl col-span-1 md:col-span-2 lg:col-span-3",children:[a.jsx(l,{children:a.jsx(o,{children:"Recent Activity"})}),a.jsx(c,{children:i.length?a.jsx("ul",{className:"space-y-2",children:i.map(s=>a.jsxs("li",{className:"flex justify-between bg-muted p-2 rounded",children:[a.jsxs("div",{children:[s.type," ",s.sender===s.receiver?"":s.sender===t.userId?"→ "+s.receiver:"← "+s.sender]}),a.jsxs("div",{children:["৳ ",s.amount]})]},s._id))}):a.jsx("p",{children:"No recent transactions."})})]})]})}export{L as default};
