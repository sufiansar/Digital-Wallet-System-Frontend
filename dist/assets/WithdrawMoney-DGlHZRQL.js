import{r as c,u as N,j as e,B as o,C as d,c as m,d as u,e as x,P as g,I as h,H as v,t}from"./index-BBuOKhOY.js";import{c as w}from"./wallet.api--hliONnM.js";import{A as y}from"./arrow-left-BnNhkRAu.js";import{D as p}from"./download-C-GcQES8.js";import{L as C}from"./loader-circle-C1dAcF8x.js";function P(){const[a,n]=c.useState(""),[r,l]=c.useState(""),[j,{isLoading:i}]=w(),f=N(),b=async()=>{if(!r){t.error("Enter receiver phone number");return}if(!a||a<=0){t.error("Enter a valid amount");return}try{await j({amount:Number(a),receiverPhone:r}).unwrap(),t.success(`Successfully transferred ${a} BDT to ${r}`),n(""),l("")}catch(s){t.error(s?.data?.message||"Transfer failed")}};return e.jsxs("div",{className:"space-y-6 p-6 min-h-screen bg-background",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>f(-1),className:"rounded-full hover:bg-accent",children:e.jsx(y,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Withdraw Money"}),e.jsx("p",{className:"text-muted-foreground",children:"Transfer funds from your wallet"})]})]}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs(d,{className:"shadow-xl rounded-2xl border-border bg-card",children:[e.jsx(m,{className:"border-b border-border",children:e.jsxs(u,{className:"text-xl font-semibold flex items-center gap-2",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary",children:e.jsx(p,{className:"h-5 w-5"})}),"Withdrawal Details"]})}),e.jsxs(x,{className:"pt-6 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Receiver Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(h,{placeholder:"01712345678",value:r,onChange:s=>l(s.target.value),className:"pl-10 bg-background border-input"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter the recipient's mobile number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Withdrawal Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(h,{type:"number",placeholder:"Enter amount in BDT",value:a,onChange:s=>n(s.target.value?Number(s.target.value):""),className:"pl-10 bg-background border-input"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimum withdrawal amount may apply"})]}),e.jsxs("div",{className:"pt-4 space-y-3",children:[e.jsx(o,{onClick:b,className:"w-full flex items-center gap-2",disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"h-4 w-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"h-4 w-4"}),"Withdraw Money"]})}),e.jsx(o,{type:"button",variant:"outline",className:"w-full",onClick:()=>{n(""),l("")},disabled:i,children:"Clear Form"})]})]})]}),e.jsxs(d,{className:"mt-6 border-border bg-card",children:[e.jsx(m,{children:e.jsx(u,{className:"text-lg font-semibold",children:"Important Information"})}),e.jsxs(x,{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsx("p",{children:"• Ensure the receiver phone number is correct"}),e.jsx("p",{children:"• Withdrawals may take some time to process"}),e.jsx("p",{children:"• Transaction fees may apply"}),e.jsx("p",{children:"• Daily limits are enforced"})]})]})]})]})}export{P as default};
