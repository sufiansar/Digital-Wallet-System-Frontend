import{j as e,C as d,c as o,d as l,W as u,e as c,v as x}from"./index-BBuOKhOY.js";import{a as g}from"./wallet.api--hliONnM.js";import{L as f}from"./Loading-DM7GQaaP.js";import{f as w}from"./format-Dp3w_Y3x.js";import{T as h}from"./trending-up-B8fO0t24.js";import{a6 as b,a7 as v}from"./CategoricalChart-D_WoEOBH.js";import{B as N,C as y,X as C,Y as T,a as t}from"./BarChart-DgTMlobF.js";import{L as A,T as k}from"./Legend-poG4NfgC.js";import{A as L}from"./arrow-down-to-line-BQruKuSS.js";function $(){const{data:n,isLoading:j}=g(void 0);if(j)return e.jsx("p",{className:"flex justify-center items-center h-32",children:e.jsx(f,{})});const i=n?.data?.recentTransactions||[],p=n?.data?.balance||0,m=Object.values(i.reduce((s,a)=>{const r=w(new Date(a.createdAt),"dd MMM");switch(s[r]||(s[r]={date:r,deposit:0,withdrawal:0,cashIn:0,cashOut:0,commission:0}),a.type){case"deposit":s[r].deposit+=a.amount;break;case"withdrawal":s[r].withdrawal+=a.amount;break;case"cash-in":s[r].cashIn+=a.amount;break;case"cash-out":s[r].cashOut+=a.amount;break;case"commission":s[r].commission+=a.amount;break}return s},{}));return e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Agent Overview"}),e.jsx("p",{className:"text-muted-foreground",children:"Monitor wallet performance and activity"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs(d,{className:"shadow-lg rounded-2xl border-border bg-card hover:shadow-xl transition-shadow",children:[e.jsx(o,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary",children:e.jsx(u,{className:"h-4 w-4"})}),"Wallet Balance"]})}),e.jsxs(c,{children:[e.jsxs("p",{className:"text-4xl font-bold text-primary",children:["৳ ",p.toLocaleString()]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Available balance"})]})]}),e.jsxs(d,{className:"shadow-lg rounded-2xl border-border bg-card md:col-span-2 lg:col-span-3 hover:shadow-xl transition-shadow",children:[e.jsx(o,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(h,{className:"h-5 w-5 text-primary"}),"Transaction Breakdown"]})}),e.jsx(c,{children:m.length?e.jsx(b,{width:"100%",height:350,children:e.jsxs(N,{data:m,children:[e.jsx(y,{strokeDasharray:"3 3"}),e.jsx(C,{dataKey:"date"}),e.jsx(T,{}),e.jsx(v,{}),e.jsx(A,{}),e.jsx(t,{dataKey:"deposit",fill:"#3b82f6",name:"Deposit"}),e.jsx(t,{dataKey:"withdrawal",fill:"#f97316",name:"Withdrawal"}),e.jsx(t,{dataKey:"cashIn",fill:"#16a34a",name:"Cash In"}),e.jsx(t,{dataKey:"cashOut",fill:"#dc2626",name:"Cash Out"}),e.jsx(t,{dataKey:"commission",fill:"#eab308",name:"Commission"})]})}):e.jsx("p",{className:"text-muted-foreground",children:"No transaction data available."})})]}),e.jsxs(d,{className:"shadow-lg rounded-2xl border-border bg-card md:col-span-2 lg:col-span-3 hover:shadow-xl transition-shadow",children:[e.jsx(o,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-5 w-5 text-primary"}),"Recent Activity"]})}),e.jsx(c,{children:i.length?e.jsx("ul",{className:"space-y-3",children:i.map(s=>{const a=s.sender===n.userId,r=!a&&s.sender!==s.receiver;return e.jsxs("li",{className:"flex items-center justify-between bg-accent/50 p-4 rounded-lg hover:bg-accent transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-full ${a?"bg-destructive/10 text-destructive":r?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:a?e.jsx(k,{className:"h-4 w-4"}):r?e.jsx(h,{className:"h-4 w-4"}):e.jsx(L,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium capitalize",children:s.type}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.sender===s.receiver?"Self transaction":a?`To ${s.receiver}`:`From ${s.sender}`})]})]}),e.jsxs("div",{className:`text-lg font-semibold ${a?"text-destructive":r?"text-primary":"text-foreground"}`,children:[a?"-":r?"+":"","৳"," ",s.amount.toLocaleString()]})]},s._id)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(x,{className:"h-12 w-12 text-muted-foreground/30 mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"No recent transactions."})]})})]})]})]})}export{$ as default};
