import{j as s,B as i,t as a}from"./index-CcoH4oKZ.js";import{T as x,a as m,b as c,c as n,d as j,e as t}from"./table-93iw7Hw7.js";import{u as A,a as g,b as v}from"./user.api-ieHgYxcs.js";import{L as f}from"./Loading-CydpJtcl.js";const w=()=>{const{data:d,isLoading:l}=A(void 0),[o]=g(),[p]=v(),u=async e=>{try{await o({id:e}).unwrap(),a.success("Agent approved successfully!")}catch(r){a.error(r?.data?.message||"Failed to approve agent")}},h=async e=>{try{await p({id:e}).unwrap(),a.success("Agent suspended successfully!")}catch(r){a.error(r?.data?.message||"Failed to suspend agent")}};return l?s.jsx(f,{}):s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Manage Agents"}),s.jsxs(x,{children:[s.jsx(m,{children:s.jsxs(c,{children:[s.jsx(n,{children:"Name"}),s.jsx(n,{children:"Phone"}),s.jsx(n,{children:"Status"}),s.jsx(n,{className:"text-right",children:"Actions"})]})}),s.jsx(j,{children:d?.data?.map(e=>s.jsxs(c,{children:[s.jsx(t,{children:e?.name}),s.jsx(t,{children:e?.phone}),s.jsx(t,{children:e?.isActive}),s.jsx(t,{className:"flex gap-2 justify-end",children:e?.isActive==="INACTIVE"?s.jsx(i,{onClick:()=>u(e._id),size:"sm",children:"Approve"}):s.jsx(i,{onClick:()=>h(e._id),size:"sm",variant:"destructive",children:"Suspend"})})]},e?._id))})]})]})};export{w as default};
